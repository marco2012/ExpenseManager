(this.webpackJsonpexpense_manager=this.webpackJsonpexpense_manager||[]).push([[0],{36:function(e,t,n){e.exports=n(58)},41:function(e,t,n){},42:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),s=(n(41),n(42),n(7)),i=n(1),l=n(4),u=n(17),m=n.n(u),d=n(6),p=n.n(d),E=function(e){var t=e.id,n=e.description,a=e.amount,c=e.createdAt;return r.a.createElement(s.b,{className:"list-item",to:"/edit/".concat(t)},r.a.createElement("div",{className:"flex-row"},r.a.createElement("h3",{className:"list-item__title"},n),r.a.createElement("h3",{className:"list-item__sub-title"},p.a.unix(c).format("DD/MM/yy"))),r.a.createElement("span",{className:"list-item__data"},"\u20ac",m()(a).format("\u20ac0,0.00")))},h=function(e,t){var n=t.text,a=t.sortBy,r=t.startDate,c=t.endDate;return e.filter((function(e){var t="number"!==typeof r||e.createdAt>r,a="number"!==typeof c||e.createdAt<=c,o=e.description.toLowerCase().includes(n.toLowerCase());return t&&a&&o})).sort((function(e,t){return"date"===a?e.createdAt<t.createdAt?1:-1:"amount"===a&&e.amount<t.amount?1:-1}))},f=Object(l.b)((function(e){return{expenses:h(e.expenses,e.filters)}}))((function(e){return r.a.createElement("div",{id:"expenseList",className:"content-container"},r.a.createElement("div",{className:"list-border"},r.a.createElement("div",{className:"list-header"},r.a.createElement("div",{className:"show-for-desktop"},"Expense"),r.a.createElement("div",{className:"show-for-desktop"},"Amount")),e.expenses.map((function(e){return r.a.createElement(E,Object.assign({key:e.id},e))}))))})),v=n(18),x=n(19),_=n(20),N=n(21),b=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.onDatesChange=function(e){var t=e.startDate,n=e.endDate;console.log(t,n)},e.flexStyle={flex:1,display:"flex",flexDirection:"row",alignItems:"center"},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"input--group"},r.a.createElement("div",{className:"input--group__item"},r.a.createElement("input",{size:"12",type:"text",className:"text-input",placeholder:"Search",value:this.props.filters.text,onChange:function(t){e.props.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"SET_TEXT_FILTER",text:e}}(t.target.value))}})),r.a.createElement("div",{className:"input--group__item"},r.a.createElement("select",{className:"select",id:"sortSelect",value:this.props.filters.sortBy,onChange:function(t){"date"===t.target.value?e.props.dispatch({type:"SORT_BY_DATE"}):"amount"===t.target.value&&e.props.dispatch({type:"SORT_BY_AMOUNT"})}},r.a.createElement("option",{value:"date"},"Date"),r.a.createElement("option",{value:"amount"},"Amount")))))}}]),n}(r.a.Component),g=Object(l.b)((function(e){return{filters:e.filters}}))(b),D=function(e){return e.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0)},O=Object(l.b)((function(e){var t=h(e.expenses,e.filters);return{expenseCount:t.length,expensesTotal:D(t)}}))((function(e){var t=e.expenseCount,n=e.expensesTotal;return r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"content-container"},r.a.createElement("h1",{className:"page-header__title"},"Viewing ",r.a.createElement("span",null,t)," ",1===t?"expense":"expenses",", total is ",r.a.createElement("span",null,"\u20ac",m()(n).format("\u20ac0,0.00"))),r.a.createElement("div",{className:"page-header__actions"},r.a.createElement(s.b,{className:"button",to:"/create"},"Add Expense"))))})),S=function(e){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(g,null),r.a.createElement(f,null))},A=n(34),y=n.n(A),T=(n(32),n(29)),j=function(e){Object(N.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).onDescriptionChange=function(e){var t=e.target.value;a.setState((function(){return{description:t}}))},a.onNoteChange=function(e){var t=e.target.value;a.setState((function(){return{note:t}}))},a.onAmountChange=function(e){var t=e.target.value;t&&!t.match(/^\d+(\.\d{0,2})?$/)||a.setState((function(){return{amount:t}}))},a.onDateChange=function(e){e&&a.setState((function(){return{createdAt:p()(e).unix()}}))},a.onSubmit=function(e){e.preventDefault(),a.state.description&&a.state.amount?(a.setState((function(){return{error:""}})),a.props.onSubmit({description:a.state.description,amount:parseFloat(a.state.amount).toFixed(2),createdAt:a.state.createdAt.valueOf(),note:a.state.note})):a.setState((function(){return{error:"Please provide description and amount"}}))},a.state={description:e.expense?e.expense.description:"",note:e.expense?e.expense.note:"",amount:e.expense?e.expense.amount.toString():"",createdAt:e.expense?p()(e.expense.createdAt):p()(),error:""},a}return Object(x.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},this.state.error&&r.a.createElement("p",{className:"form__error"},this.state.error),r.a.createElement("input",{className:"text-input",type:"text",placeholder:"Description",autoFocus:!0,value:this.state.description,onChange:this.onDescriptionChange}),r.a.createElement("input",{className:"text-input",type:"number",placeholder:"Amount",value:this.state.amount,onChange:this.onAmountChange}),r.a.createElement(y.a,{inputProps:{className:"text-input",id:"calendar"},formatDate:T.formatDate,parseDate:T.parseDate,value:p.a.unix(this.state.createdAt).format("MM/DD/YY"),onDayChange:this.onDateChange}),r.a.createElement("textarea",{className:"text-input",id:"notes",placeholder:"Add note for yout expense (optional)",value:this.state.note,onChange:this.onNoteChange}),r.a.createElement("div",null,r.a.createElement("button",{className:"button"},"Save Expense")))}}]),n}(r.a.Component),w=n(60),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.description,n=void 0===t?"":t,a=e.note,r=void 0===a?"":a,c=e.amount,o=void 0===c?0:c,s=e.createdAt,i=void 0===s?0:s;return{type:"ADD_EXPENSE",expense:{id:Object(w.a)(),description:n,note:r,amount:o,createdAt:i}}},R=Object(l.b)()((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"content-container"},r.a.createElement("h1",{className:"page-header__title"},"Add expense"))),r.a.createElement("div",{className:"content-container"},r.a.createElement(j,{onSubmit:function(t){e.dispatch(C(t)),e.history.push("/")}})))})),X=Object(l.b)((function(e,t){return{expense:e.expenses.find((function(e){return e.id===t.match.params.id}))}}))((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"page-header"},r.a.createElement("div",{className:"content-container"},r.a.createElement("h1",{className:"page-header__title"},"Edit Epense"))),r.a.createElement("div",{className:"content-container"},r.a.createElement(j,{expense:e.expense,onSubmit:function(t){e.dispatch({type:"EDIT_EXPENSE",id:e.expense.id,updates:t})}}),r.a.createElement("button",{className:"button button--secondary",onClick:function(){e.expense.id&&(e.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return{type:"REMOVE_EXPENSE",id:t}}({id:e.expense.id})),e.history.push("/"))}},"Remove Expense")))})),B=function(e){return r.a.createElement("div",null,"This is help component")},k=function(){return r.a.createElement("div",null,"404 - ",r.a.createElement(s.b,{to:"/"},"Go Home"))},M=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"header__content"},r.a.createElement(s.b,{className:"header__title",to:"/"},r.a.createElement("h1",null,"ExpenseManager")))))},I=function(){return r.a.createElement(s.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:S,exact:!0}),r.a.createElement(i.a,{path:"/create",component:R}),r.a.createElement(i.a,{path:"/edit/:id",component:X}),r.a.createElement(i.a,{path:"/help",component:B}),r.a.createElement(i.a,{component:k}))))},P=n(12),L=n(8),Y=n(35),F=[],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return[].concat(Object(Y.a)(e),[t.expense]);case"REMOVE_EXPENSE":return e.filter((function(e){return e.id!==t.id}));case"EDIT_EXPENSE":return e.map((function(e){return e.id===t.id?Object(L.a)({},e,{},t.updates):e}));default:return e}},U={text:"",sortBy:"date",startDate:p()().startOf("month"),endDate:p()().endOf("month")},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_FILTER":return Object(L.a)({},e,{text:t.text});case"SORT_BY_AMOUNT":return Object(L.a)({},e,{sortBy:"amount"});case"SORT_BY_DATE":return Object(L.a)({},e,{sortBy:"date"});case"SET_START_DATE":return Object(L.a)({},e,{startDate:t.date});case"SET_END_DATE":return Object(L.a)({},e,{endDate:t.date});default:return e}},G=Object(P.c)(Object(P.b)({expenses:V,filters:W}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());G.dispatch(C({description:"Water bill",amount:43.34,createdAt:1597782775,note:"expensive"})),G.dispatch(C({description:"Gas bill",amount:22.89,createdAt:1597157950,note:"needed"})),G.dispatch(C({description:"Rent",amount:343.44,createdAt:1596380350,note:"great aparment"})),G.dispatch(C({description:"Netflix",amount:7,createdAt:1595257150,note:"tv shows"}));var J=function(){return r.a.createElement(l.a,{store:G},r.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.c76cf85f.chunk.js.map